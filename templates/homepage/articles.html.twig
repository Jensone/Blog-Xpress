{% extends 'base.html.twig' %}

{% block title %}Les articles sur : {{ articles[0].name}}{% endblock %}
{% block desc %}{{ articles[0].description}}{% endblock %}

{% block body %}
	<div class="text-center mt-5">
		<h1>Tous les articles : {{ articles[0].name}}</h1>
        <p class="fs-5 col-7 m-auto">{{ articles[0].description}}</p>
	</div>

	<div class="row justify-content-center gap-3 mt-5">
		{% for article in articles[0].articles %}
			<div class="col-md-5 border rounded p-3">
				<h4>{{ article.title }}</h4>
				<p>{{ article.content|slice(0, 50) }}...</p>
				<p>Écrit par
					{{ article.author.firstname }}</p>
				<p>Publié le
					{{ article.createdAt|date('d/m/Y') }}</p>
				<hr>
				<div class="d-flex justify-content-between align-items-center">
					<p>
						{% if article.isPremium == 1 %}
							<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewbox="0 0 24 24"><path fill="#F7C548" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2L9.19 8.63L2 9.24l5.46 4.73L5.82 21L12 17.27z"/></svg>
						{% endif %}
						{% if article.featured == 1 %}
							<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewbox="0 0 24 24"><path fill="#FF0000" d="m12 12.9l-2.13 2.09c-.56.56-.87 1.29-.87 2.07C9 18.68 10.35 20 12 20s3-1.32 3-2.94c0-.78-.31-1.52-.87-2.07L12 12.9z"/><path fill="currentColor" d="m16 6l-.44.55C14.38 8.02 12 7.19 12 5.3V2S4 6 4 13c0 2.92 1.56 5.47 3.89 6.86c-.56-.79-.89-1.76-.89-2.8c0-1.32.52-2.56 1.47-3.5L12 10.1l3.53 3.47c.95.93 1.47 2.17 1.47 3.5c0 1.02-.31 1.96-.85 2.75c1.89-1.15 3.29-3.06 3.71-5.3c.66-3.55-1.07-6.9-3.86-8.52z"/></svg>
						{% endif %}
					</p>
				</div>
                <p>
                    <a href={{ path('app_article_only', {'slug': article.slug}) }}>Lire l'article</a>
                </p>
			</div>
		{% endfor %}
	</div>

{% endblock %}
